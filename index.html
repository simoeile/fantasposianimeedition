<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FANTA SPOSI - ANIME EDITION</title>
  <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Roboto+Mono&display=swap" rel="stylesheet">
  <style>
    .fixed-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      background-size: contain;
      z-index: -1;
    }

    body {
      font-family: 'Bangers', cursive;
      background-color: black;
      margin: 0;
      padding: 20px;
      text-align: center;
      font-size: 1.2em;
      color: white;
      text-shadow:
        -1px -1px 0 black,
         1px -1px 0 black,
        -1px  1px 0 black,
         1px  1px 0 black;
    }

    h1 {
      font-size: 4em;
      color: #008080;
      text-shadow:
        -1px -1px 0 white,
         1px -1px 0 white,
        -1px  1px 0 white,
         1px  1px 0 white;
      margin-top: 0;
    }

    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      background-color: #008080;
      padding: 10px;
      border-radius: 10px;
    }

    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      font-size: 1.2em;
      transition: color 0.3s ease;
    }

    nav a:hover {
      color: #ff85c1;
    }

    .section2, .section3 {
      background: rgba(255, 255, 255, 0.008);
      backdrop-filter: blur(0.015px);
      -webkit-backdrop-filter: blur(0.015px);
      border-radius: 15px;
      box-shadow: none;
      margin: 30px auto;
      padding: 20px;
      max-width: 800px;
    }

    .team {
      width: 180px;
      height: 200px;
      margin: 20px;
      background-size: contain;
      background-position: center;
      background-repeat: no-repeat;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
      cursor: pointer;
      display: inline-block;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .team:hover {
      transform: scale(1.1) rotate(2deg);
      box-shadow: 0 8px 20px rgba(255, 255, 255, 0.5);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      border-radius: 10px;
      overflow: hidden;
    }

    th, td {
      padding: 15px;
      text-align: center;
      border-bottom: 1px solid #ddd;
      font-family: 'Roboto Mono', monospace;
    }

    th {
      background-color: #008080;
      color: white;
    }

    tbody tr:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    footer {
      margin-top: 40px;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 2.5em;
      }

      .team {
        width: 140px;
        height: 160px;
      }

      th, td {
        padding: 10px;
      }
    }
  </style>
</head>
<body>

  <div class="fixed-bg"></div>

  <h1>FANTA SPOSI - ANIME EDITION</h1>

  <nav>
    <a href="#istruzioni">ISTRUZIONI</a>
    <a href="#squadre">SQUADRE</a>
    <a href="#classifica">CLASSIFICA</a>
  </nav>

  <div class="section2" id="istruzioni">
    <h2>COME SI GIOCA?</h2>
    <p>Benvenuti al Fanta Sposi in stile anime! Ogni tavolo/squadra ha tempo fino al taglio della torta per completare quante più sfide possibili. Ogni sfida completata farà guadagnare punti al proprio tavolo. La squadra con il punteggio più alto vincerà la gloria eterna... e forse un piccolo forziere!</p>
  </div>

  <div class="section2" id="squadre">
    <h2>LE SQUADRE</h2>
    <div class="team" style="background-image: url('Logo One Piece - senza sfondo.png')" onclick="openTeam('onepiece.html')" title="One Piece"></div>
    <div class="team" style="background-image: url('Logo Arale - senza sfondo.png')" onclick="openTeam('arale.html')" title="Arale"></div>
    <div class="team" style="background-image: url('Logo Naruto Shippuden - senza sfondo.png')" onclick="openTeam('naruto.html')" title="Naruto Shippuden"></div>
    <div class="team" style="background-image: url('Logo Dragon Ball Z - senza sfondo.png')" onclick="openTeam('dragonballz.html')" title="Dragon Ball Z"></div>
    <div class="team" style="background-image: url('Logo Detective Conan - senza sfondo.png')" onclick="openTeam('conan.html')" title="Detective Conan"></div>
    <div class="team" style="background-image: url('Logo Holly e Benji - senza sfondo.png')" onclick="openTeam('hollyebenji.html')" title="Holly e Benji"></div>
    <div class="team" style="background-image: url('Logo Ken il guerriero - senza sfondo.png')" onclick="openTeam('ken.html')" title="Ken il Guerriero"></div>
    <div class="team" style="background-image: url('Logo Yu yu hakusho - senza sfondo.png')" onclick="openTeam('yuyuhakusho.html')" title="Yu Yu Hakusho"></div>
  </div>

  <div class="section2" id="classifica">
    <h2>CLASSIFICA</h2>
    <table>
      <thead>
        <tr>
          <th>SQUADRA</th>
          <th>PUNTEGGIO</th>
        </tr>
      </thead>
      <tbody id="scoreBody"></tbody>
    </table>
  </div>

  <div class="section3">
    <img src="Logo SI - senza sfondo.png" alt="Logo S & I" style="width: 60%; max-width: 500px;">
  </div>

  <footer>
    <p style="text-align: center; font-size: 1.5em; color: white;">Buona fortuna a tutti! ❤️</p>
  </footer>

  <script>
    function openTeam(page) {
      window.location.href = page;
    }

    const teams = [
      { name: 'ONE PIECE', key: 'onepieceMedia' },
      { name: 'ARALE', key: 'araleMedia' },
      { name: 'NARUTO', key: 'narutoMedia' },
      { name: 'DRAGON BALL Z', key: 'dragonballzMedia' },
      { name: 'DETECTIVE CONAN', key: 'conanMedia' },
      { name: 'HOLLY E BENJI', key: 'hollybenjiMedia' },
      { name: 'KEN IL GUERRIERO', key: 'kenMedia' },
      { name: 'YU YU HAKUSHO', key: 'yuyuhakushoMedia' },
    ];

    function aggiornaClassifica() {
      const tbody = document.getElementById("scoreBody");
      tbody.innerHTML = "";

      teams.forEach(team => {
        const data = JSON.parse(localStorage.getItem(team.key)) || [];
        const totale = data.reduce((acc, cur) => acc + (parseInt(cur.punteggio) || 0), 0);

        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${team.name}</td>
          <td>${totale}</td>
        `;
        tbody.appendChild(row);
      });
    }

    aggiornaClassifica();
  </script>

</body>
</html>
